<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>title</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="overlay.css"/>
</head>
<body>
<div class="top" style="margin-top: 8px">
    <div id="header-container">
        <img src="images/blue banner tall.png" style="grid-area: blue"/>
        <img src="images/orange banner tall.png" style="grid-area: orange"/>
        <div style="grid-area: blue; position: relative;">
            <p id="team-name-blue" class="team-name" style="padding-left: 14px">TBD</p>
        </div>
        <div style="grid-area: orange; position: relative;">
            <p id="team-name-orange" class="team-name" style="padding-right: 14px">TBD</p>
        </div>
    </div>
</div>

<script>
    const blueTeamName = $("#team-name-blue");
    const orangeTeamName = $("#team-name-orange");
    let previousData = null;

    setInterval(function () {
        $.get("current_match.json", function (json) {
            if (json !== previousData) {
                try {
                    data = JSON.parse(json);
                } catch (e) {
                    // In normal browsers (not OBS), json is already an object and not a string. Not sure why
                    data = json
                }
                previousData = json;

                blueTeamName.html((data.blue[0].name + "<br>" + data.blue[1].name + "<br>" + data.blue[2].name).replace(" ", "&nbsp"));
                orangeTeamName.html((data.orange[0].name + "<br>" + data.orange[1].name + "<br>" + data.orange[2].name).replace(" ", "&nbsp"));

            }
        });
    }, 1000);
</script>

</body>
</html>
